<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Noblesse Time (í…ìŠ¤íŠ¸ ë¶„ë¦¬í˜•)</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
    :root{
        --canvas-w: 1024px;
        --canvas-h: 1024px;

        --select-left-1: 260px;
        --select-left-2: 540px;
        --select-top: 410px;

        --select-width: 210px;
        --select-height: 55px;

        --time-left: 215px;
        --time-top: 480px;
        --time-font-size: 38px;

        --time-color: #F6EAD2;
        --select-text: #FFF5D9;
    }

    html,body{
        height:100%;
        margin:0;
        background: #000;
        font-family: "Nanum Myeongjo", "KoPub Batang", serif; 
    }

    .canvas {
        width: var(--canvas-w);
        height: var(--canvas-h);
        margin: 0 auto;
        position: relative;
        overflow: hidden;
    }

    .bg {
        position:absolute;
        left:0; top:0;
        width:100%; height:100%;
        z-index:0;
        pointer-events:none;
    }
    .bg img { width:100%; height:100%; object-fit:cover; display:block; }

    /* ======================= 1. íˆ¬ëª…í•œ Select (ì„ íƒ ê¸°ëŠ¥ë§Œ ë‹´ë‹¹) ========================== */
    .canvas select {
        position:absolute;
        z-index:10; /* ê°€ì¥ ìœ„ì— ë‘¬ì„œ í´ë¦­ ê°€ëŠ¥í•˜ê²Œ */
        width:var(--select-width);
        height:var(--select-height);
        
        /* ğŸ”¥ íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ì–´ì„œ ë°°ê²½ë§Œ ë‚¨ê¹€ */
        background: transparent;
        color: transparent; 
        border: none;
        outline: none;
        
        /* í°íŠ¸ í¬ê¸°ë¥¼ ìœ ì§€í•´ì•¼ í´ë¦­ ì˜ì—­ì´ ë§ìŒ */
        font-size: 28px; 
        
        /* ê²‰ í…Œë‘ë¦¬ ë° ê·¸ë¦¼ì ì œê±° */
        box-shadow: none;
        cursor: pointer;
        appearance: none;
    }
    /* select ìì²´ëŠ” í…Œë‘ë¦¬ê°€ ì—†ì§€ë§Œ, í´ë¦­ ì˜ì—­ì„ ë§ì¶”ê¸° ìœ„í•´ ìœ„ì¹˜ëŠ” ìœ ì§€ */
    #sido { left: var(--select-left-1); top: var(--select-top); }
    #sigungu { left: var(--select-left-2); top: var(--select-top); }


    /* ======================= 2. Display Div (í‘œì‹œ ì—­í• ë§Œ ë‹´ë‹¹, ìœ„ì¹˜ ììœ ) ========================== */
    .display-box {
        position: absolute;
        z-index: 5; /* select ì•„ë˜ì— ë‘  */
        width: var(--select-width);
        height: var(--select-height);
        box-sizing: border-box;
        
        /* ì´ì „ selectì˜ ë°°ê²½ ìŠ¤íƒ€ì¼ ì¬í˜„ */
        color: var(--select-text);
        background: rgba(0,0,0,0.35);
        border: 2px solid rgba(200,167,107,0.95);
        border-radius:8px;
        font-weight:600;
        text-align: center;
        
        /* í…ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬: ì´ ë¶€ë¶„ì„ ì›í•˜ëŠ”ëŒ€ë¡œ ì¡°ì •í•˜ë©´ ìº¡ì²˜ ìœ„ì¹˜ê°€ ì •í™•í•´ì§ */
        font-size: 28px;
        line-height: var(--select-height); /* 55px */
        
        box-shadow:
            0 0 10px rgba(255, 230, 180, 0.4),
            inset 0 0 10px rgba(255, 230, 180, 0.25);
    }
    
    /* Display Divì˜ ìœ„ì¹˜ëŠ” Selectì™€ ë™ì¼í•˜ê²Œ ë°°ì¹˜ */
    #sidoDisplay { left: var(--select-left-1); top: var(--select-top); }
    #sigunguDisplay { left: var(--select-left-2); top: var(--select-top); }
    
    /* ì‹œê°„ í‘œì‹œ ìš”ì†Œ (ìœ„ì¹˜ ì¡°ì • ì•ˆí•¨) */
    #timeDisplay{
        position:absolute;
        left: var(--time-left);
        top: var(--time-top);
        z-index:6;
        color: var(--time-color);
        font-size: var(--time-font-size);
        font-weight:700;
        text-shadow: 0 3px 12px rgba(0,0,0,0.6);
        white-space: nowrap;
    }

    /* ğŸ”¥ PNG ì €ì¥ ë²„íŠ¼ (ìƒëµ) */
    #saveBtn{
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 9999;
        padding: 10px 18px;
        font-size: 15px;
        font-weight:600;
        background:#caa56a;
        color:#000;
        border:none;
        border-radius:8px;
        cursor:pointer;
        box-shadow:0 0 10px rgba(0,0,0,0.5);
        transition:0.25s;
    }
    #saveBtn:hover{
        background:#ffe2a8;
    }

    @media (max-width:1100px){
        .canvas {
            transform-origin: top center;
            transform: scale(calc((100vw - 40px) / 1024));
            margin-top:20px;
        }
    }
</style>
</head>
<body>

<button id="saveBtn">PNG ì €ì¥</button>

<div class="canvas" id="canvas">

    <div class="bg"><img src="bok.png" alt="background"></div>

    <div id="sidoDisplay" class="display-box">ì‹œÂ·ë„ ì„ íƒ</div>
    <div id="sigunguDisplay" class="display-box">ì‹œÂ·êµ°Â·êµ¬ ì„ íƒ</div>

    <select id="sido" aria-label="ì‹œë„ ì„ íƒ"></select>
    <select id="sigungu" aria-label="ì‹œêµ°êµ¬ ì„ íƒ"></select>

    <div id="timeDisplay" aria-live="polite">ì‹œê°„ ë¡œë”©ì¤‘...</div>

</div>

<script>
/* ===================== ì‹œë„/êµ°êµ¬ ë°ì´í„° (ë™ì¼) ======================== */
const regionData = {
    "ì„œìš¸íŠ¹ë³„ì‹œ": ["ì¢…ë¡œêµ¬","ì¤‘êµ¬","ìš©ì‚°êµ¬","ì„±ë™êµ¬","ê´‘ì§„êµ¬","ë™ëŒ€ë¬¸êµ¬","ì¤‘ë‘êµ¬","ì„±ë¶êµ¬","ê°•ë¶êµ¬","ë„ë´‰êµ¬","ë…¸ì›êµ¬","ì€í‰êµ¬","ì„œëŒ€ë¬¸êµ¬","ë§ˆí¬êµ¬","ì–‘ì²œêµ¬","ê°•ì„œêµ¬","êµ¬ë¡œêµ¬","ê¸ˆì²œêµ¬","ì˜ë“±í¬êµ¬","ë™ì‘êµ¬","ê´€ì•…êµ¬","ì„œì´ˆêµ¬","ê°•ë‚¨êµ¬","ì†¡íŒŒêµ¬","ê°•ë™êµ¬"],
    "ë¶€ì‚°ê´‘ì—­ì‹œ": ["ì¤‘êµ¬","ì„œêµ¬","ë™êµ¬","ì˜ë„êµ¬","ë¶€ì‚°ì§„êµ¬","ë™ë˜êµ¬","ë‚¨êµ¬","ë¶êµ¬","í•´ìš´ëŒ€êµ¬","ì‚¬í•˜êµ¬","ê¸ˆì •êµ¬","ê°•ì„œêµ¬","ì—°ì œêµ¬","ìˆ˜ì˜êµ¬","ì‚¬ìƒêµ¬","ê¸°ì¥êµ°"],
    "ëŒ€êµ¬ê´‘ì—­ì‹œ": ["ì¤‘êµ¬","ë™êµ¬","ì„œêµ¬","ë‚¨êµ¬","ë¶êµ¬","ìˆ˜ì„±êµ¬","ë‹¬ì„œêµ¬","ë‹¬ì„±êµ°"],
    "ì¸ì²œê´‘ì—­ì‹œ": ["ì¤‘êµ¬","ë™êµ¬","ë¯¸ì¶”í™€êµ¬","ì—°ìˆ˜êµ¬","ë‚¨ë™êµ¬","ë¶€í‰êµ¬","ê³„ì–‘êµ¬","ì„œêµ¬","ê°•í™”êµ°","ì˜¹ì§„êµ°"],
    "ê´‘ì£¼ê´‘ì—­ì‹œ": ["ë™êµ¬","ì„œêµ¬","ë‚¨êµ¬","ë¶êµ¬","ê´‘ì‚°êµ¬"],
    "ëŒ€ì „ê´‘ì—­ì‹œ": ["ë™êµ¬","ì¤‘êµ¬","ì„œêµ¬","ìœ ì„±êµ¬","ëŒ€ë•êµ¬"],
    "ìš¸ì‚°ê´‘ì—­ì‹œ": ["ì¤‘êµ¬","ë‚¨êµ¬","ë™êµ¬","ë¶êµ¬","ìš¸ì£¼êµ°"],
    "ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ": ["ì„¸ì¢…ì‹œ"],
    "ê²½ê¸°ë„": ["ìˆ˜ì›ì‹œ","ì„±ë‚¨ì‹œ","ì˜ì •ë¶€ì‹œ","ì•ˆì–‘ì‹œ","ë¶€ì²œì‹œ","ê´‘ëª…ì‹œ","í‰íƒì‹œ","ë™ë‘ì²œì‹œ","ì•ˆì‚°ì‹œ","ê³ ì–‘ì‹œ","ê³¼ì²œì‹œ","êµ¬ë¦¬ì‹œ","ë‚¨ì–‘ì£¼ì‹œ","ì˜¤ì‚°ì‹œ","ì‹œí¥ì‹œ","êµ°í¬ì‹œ","ì˜ì™•ì‹œ","í•˜ë‚¨ì‹œ","ìš©ì¸ì‹œ","íŒŒì£¼ì‹œ","ì´ì²œì‹œ","ì•ˆì„±ì‹œ","ê¹€í¬ì‹œ","í™”ì„±ì‹œ","ê´‘ì£¼ì‹œ","ì–‘ì£¼ì‹œ","í¬ì²œì‹œ","ì—¬ì£¼ì‹œ","ê°€í‰êµ°","ì—°ì²œêµ°"],
    "ê°•ì›ë„": ["ì¶˜ì²œì‹œ","ì›ì£¼ì‹œ","ê°•ë¦‰ì‹œ","ë™í•´ì‹œ","íƒœë°±ì‹œ","ì†ì´ˆì‹œ","ì‚¼ì²™ì‹œ","í™ì²œêµ°","íš¡ì„±êµ°","ì˜ì›”êµ°","í‰ì°½êµ°","ì •ì„ êµ°","ì² ì›êµ°","í™”ì²œêµ°","ì–‘êµ¬êµ°","ì¸ì œêµ°","ê³ ì„±êµ°","ì–‘ì–‘êµ°"],
    "ì¶©ì²­ë¶ë„": ["ì²­ì£¼ì‹œ","ì¶©ì£¼ì‹œ","ì œì²œì‹œ","ë³´ì€êµ°","ì˜¥ì²œêµ°","ì˜ë™êµ°","ì¦í‰êµ°","ì§„ì²œêµ°","ê´´ì‚°êµ°","ìŒì„±êµ°","ë‹¨ì–‘êµ°"],
    "ì¶©ì²­ë‚¨ë„": ["ì²œì•ˆì‹œ","ê³µì£¼ì‹œ","ë³´ë ¹ì‹œ","ì•„ì‚°ì‹œ","ì„œì‚°ì‹œ","ë…¼ì‚°ì‹œ","ê³„ë£¡ì‹œ","ë‹¹ì§„ì‹œ","ê¸ˆì‚°êµ°","ë¶€ì—¬êµ°","ì„œì²œêµ°","ì²­ì–‘êµ°","í™ì„±êµ°","ì˜ˆì‚°êµ°","íƒœì•ˆêµ°"],
    "ì „ë¼ë¶ë„": ["ì „ì£¼ì‹œ","êµ°ì‚°ì‹œ","ìµì‚°ì‹œ","ì •ìì‹œ","ë‚¨ì›ì‹œ","ê¹€ì œì‹œ","ì™„ì£¼êµ°","ì§„ì•ˆêµ°","ë¬´ì£¼êµ°","ì¥ìˆ˜êµ°","ì„ì‹¤êµ°","ìˆœì°½êµ°","ê³ ì°½êµ°","ë¶€ì•ˆêµ°"],
    "ì „ë¼ë‚¨ë„": ["ëª©í¬ì‹œ","ì—¬ìˆ˜ì‹œ","ìˆœì²œì‹œ","ë‚˜ì£¼ì‹œ","ê´‘ì–‘ì‹œ","ë‹´ì–‘êµ°","ê³¡ì„±êµ°","êµ¬ë¡€êµ°","ê³ í¥êµ°","ë³´ì„±êµ°","í™”ìˆœêµ°","ì¥í¥êµ°","ê°•ì§„êµ°","í•´ë‚¨êµ°","ì˜ì•”êµ°","ë¬´ì•ˆêµ°","í•¨í‰êµ°","ì˜ê´‘êµ°","ì¥ì„±êµ°","ì™„ë„êµ°","ì§„ë„êµ°","ì‹ ì•ˆêµ°"],
    "ê²½ìƒë¶ë„": ["í¬í•­ì‹œ","ê²½ì£¼ì‹œ","ê¹€ì²œì‹œ","ì•ˆë™ì‹œ","êµ¬ë¯¸ì‹œ","ì˜ì£¼ì‹œ","ì˜ì²œì‹œ","ìƒì£¼ì‹œ","ë¬¸ê²½ì‹œ","ê²½ì‚°ì‹œ","ì˜ì„±êµ°","ì²­ì†¡êµ°","ì˜ì–‘êµ°","ì˜ë•êµ°","ì²­ë„êµ°","ê³ ë ¹êµ°","ì„±ì£¼êµ°","ì¹ ê³¡êµ°","ì˜ˆì²œêµ°","ë´‰í™”êµ°","ìš¸ì§„êµ°","ìš¸ë¦‰êµ°"],
    "ê²½ìƒë‚¨ë„": ["ì°½ì›ì‹œ","ì§„ì£¼ì‹œ","í†µì˜ì‹œ","ì‚¬ì²œì‹œ","ê¹€í•´ì‹œ","ë°€ì–‘ì‹œ","ê±°ì œì‹œ","ì–‘ì‚°ì‹œ","ì˜ë ¹êµ°","í•¨ì•ˆêµ°","ì°½ë…•êµ°","ê³ ì„±êµ°","ë‚¨í•´êµ°","í•˜ë™êµ°","ì‚°ì²­êµ°","í•¨ì–‘êµ°","ê±°ì°½êµ°","í•©ì²œêµ°"],
    "ì œì£¼íŠ¹ë³„ìì¹˜ë„": ["ì œì£¼ì‹œ","ì„œê·€í¬ì‹œ"]
};

const sido = document.getElementById('sido');
const sigungu = document.getElementById('sigungu');
const sidoDisplay = document.getElementById('sidoDisplay'); // ì¶”ê°€
const sigunguDisplay = document.getElementById('sigunguDisplay'); // ì¶”ê°€
const timeDisplay = document.getElementById('timeDisplay');

/* ì‹œë„ / ì‹œêµ°êµ¬ ì…‹íŒ… */
function fillSidos(){
    sido.innerHTML = '';
    const ph = document.createElement('option');
    ph.textContent = 'ì‹œÂ·ë„ ì„ íƒ';
    ph.value = '';
    ph.selected = true;
    ph.disabled = true;
    sido.appendChild(ph);

    Object.keys(regionData).forEach(s => {
        const o = document.createElement('option');
        o.value = s;
        o.textContent = s;
        sido.appendChild(o);
    });
}

function fillSigungu(sidoName){
    sigungu.innerHTML = '';
    if(!sidoName || !regionData[sidoName]){
        const def = document.createElement('option');
        def.textContent = 'ì‹œÂ·êµ°Â·êµ¬ ì„ íƒ';
        def.disabled = true;
        def.selected = true;
        sigungu.appendChild(def);
        return;
    }
    regionData[sidoName].forEach(g => {
        const o = document.createElement('option');
        o.value = g;
        o.textContent = g;
        sigungu.appendChild(o);
    });
    sigunguDisplay.textContent = 'ì‹œÂ·êµ°Â·êµ¬ ì„ íƒ'; // êµ°êµ¬ ëª©ë¡ì´ ë°”ë€Œë©´ í‘œì‹œë„ ì´ˆê¸°í™”
}

/* âœ… Select ê°’ì´ ë°”ë€” ë•Œ Display Div ì—…ë°ì´íŠ¸ */
sido.addEventListener('change', () => {
    fillSigungu(sido.value);
    sidoDisplay.textContent = sido.value; // ì„ íƒëœ ì‹œë„ í‘œì‹œ
});

sigungu.addEventListener('change', () => {
    sigunguDisplay.textContent = sigungu.value; // ì„ íƒëœ ì‹œêµ°êµ¬ í‘œì‹œ
});

fillSidos();

/* ê¸°ë³¸ê°’ ì„¸íŒ… (ê²½ê¸°ë„ / ê°€í‰êµ°) */
(function(){
    const ds = "ê²½ê¸°ë„";
    const dg = "ê°€í‰êµ°";
    if(regionData[ds]){
        sido.value = ds;
        fillSigungu(ds);
        if(regionData[ds].includes(dg)) sigungu.value = dg;
        
        // ì´ˆê¸°ê°’ ì„¤ì • ì‹œ Displayë„ ì—…ë°ì´íŠ¸
        sidoDisplay.textContent = ds;
        sigunguDisplay.textContent = dg;
    }
})();

/* ì‹¤ì‹œê°„ ì‹œê°„ í‘œì‹œ (ë™ì¼) */
function updateTime(){
    const n = new Date();
    const y = n.getFullYear();
    const mo = n.getMonth()+1;
    const d = n.getDate();
    const h = n.getHours();
    const mi = String(n.getMinutes()).padStart(2,'0');
    const s = String(n.getSeconds()).padStart(2,'0');
    timeDisplay.textContent = `${y}ë…„ ${mo}ì›” ${d}ì¼ ${h}ì‹œ ${mi}ë¶„ ${s}ì´ˆ`;
}
updateTime();
setInterval(updateTime, 1000);

/* ===================== PNG ë‹¤ìš´ë¡œë“œ í•¨ìˆ˜ (Select ìš”ì†ŒëŠ” ë¬´ì‹œë¨) ===================== */
document.getElementById("saveBtn").addEventListener("click", () => {
    const target = document.getElementById("canvas");

    // Display DivëŠ” ì¼ë°˜ divì´ë¯€ë¡œ ë Œë”ë§ ì˜¤ë¥˜ ì—†ì´ ì •í™•í•˜ê²Œ ìº¡ì²˜ë¨

    html2canvas(target, {
        scale: 2,
        useCORS: true,
        // select ìš”ì†ŒëŠ” íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬í–ˆìœ¼ë¯€ë¡œ ìº¡ì²˜ì— íŠ¹ë³„í•œ ì¡°ì‘ ë¶ˆí•„ìš”
    }).then(canvas => {
        const link = document.createElement("a");
        link.download = "noblesse.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
    });
});
</script>

</body>
</html>
